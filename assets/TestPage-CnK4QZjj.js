import{_ as m,e as C,c as i,o as n,a as u,n as V,F as M,f as N,g as S,h as R,i as x,j as P,k as Z,v as B,l as w,m as g,t as $,p as h,b as f,w as v,d as k,q as T,s as I,x as D,y as q,z as L,B as E,C as A,A as F,D as j}from"./index-D5k1BdEp.js";import{A as z}from"./AppButton-DT1pIWTL.js";const O={class:"bar"},U={__name:"ProgressBar",props:{stepAmount:{type:Number,required:!0},step:{type:Number,required:!0}},setup(e){const l=e,t=C(()=>`${l.step/l.stepAmount*100}%`);return(a,r)=>(n(),i("div",O,[u("div",{class:"bar__line",style:V({width:t.value})},null,4)]))}},G=m(U,[["__scopeId","data-v-ce10d414"]]),W={class:"radio-list__list"},H={__name:"RadioList",props:{dataList:{type:Array,required:!0},appearance:{type:String,default:"rectangle"}},setup(e){return(l,t)=>(n(),i("div",{class:S(["radio-list",{"radio-list--rectangle":e.appearance==="rectangle","radio-list--square":e.appearance==="square","radio-list--square radio-list--long-square":e.appearance==="square"&&e.dataList.length>4,"radio-list--color":e.appearance==="color"}])},[u("ul",W,[(n(!0),i(M,null,N(e.dataList,(a,r)=>(n(),i("li",{key:r,class:"radio-list__item"},[R(l.$slots,"default",{id:a.id,label:a.name,colorCode:"code"in a?a.code:null},void 0,!0)]))),128))])],2))}},J=m(H,[["__scopeId","data-v-199b6d78"]]),K=["id","value"],Q=["for"],X={key:0,class:"radio__fake-input"},Y={key:1,class:"radio__descr"},ee=["aria-label"],te={__name:"RadioInput",props:{modelValue:{type:String,required:!0},label:{type:String,default:null},value:{type:String,required:!0},colorCode:{type:String,default:""},appearance:{type:String,default:"rectangle"},shortRectangle:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:l}){x(s=>({"61da4c01":o.value}));const t=e,a=l,r=P(),o=C(()=>t.appearance==="color"&&(t!=null&&t.colorCode)?t.colorCode:""),p=C({get:()=>t.modelValue,set:s=>a("update:modelValue",s)});return(s,c)=>(n(),i("div",{class:S(["radio",{"radio--rectangle":e.appearance==="rectangle","radio--short-rectangle":e.shortRectangle,"radio--square":e.appearance==="square","radio--color":e.appearance==="color"}])},[Z(u("input",{id:w(r),"onUpdate:modelValue":c[0]||(c[0]=d=>p.value=d),value:e.value,type:"radio",class:"radio__input"},null,8,K),[[B,p.value]]),u("label",{for:w(r),class:"radio__label"},[e.appearance==="rectangle"?(n(),i("div",X)):g("",!0),e.appearance!=="color"?(n(),i("div",Y,$(e.label),1)):g("",!0),e.appearance==="color"?(n(),i("div",{key:2,class:"radio__color","aria-label":e.label},null,8,ee)):g("",!0)],8,Q)],2))}},ae=m(te,[["__scopeId","data-v-0bac1732"]]),re={class:"test-card__form-inner"},se={class:"test-card__question"},ne={key:0,class:"test-card__picture"},le={class:"test-card__picture-inner"},oe=["src"],ce={__name:"TestCard",props:{testAnswers:{type:Array,required:!0},question:{type:String,required:!0},picture:{type:Object||null,default:null},appearance:{type:Object,default:null},testId:{type:String,required:!0},page:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["submit"],setup(e,{emit:l}){const t=e,a=l,r=h(""),o=C(()=>t.appearance.button==="square"&&!t.appearance.underlined?"test-card--high-picture":t.appearance.button==="rectangle"&&t.picture?"test-card--low-picture":t.appearance.button==="square"&&t.appearance.underlined?"test-card--square-picture":"");async function p(){if(!r.value)return;const s={page:t.page,answerId:r.value,testId:t.testId};a("submit",s),r.value=""}return(s,c)=>(n(),i("div",{class:S(["test-card",o.value])},[u("form",{class:"test-card__form",onSubmit:T(p,["prevent"])},[u("div",re,[u("p",se,$(e.question),1),e.picture?(n(),i("div",ne,[u("div",le,[u("img",{src:e.picture.url,alt:"изображение теста",class:"test-card__picture-img"},null,8,oe)])])):g("",!0),f(J,{"data-list":e.testAnswers,appearance:e.appearance.button},{default:v(({id:d,label:_,colorCode:b})=>[f(ae,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=y=>r.value=y),value:d,label:_,"color-code":b,appearance:e.appearance.button,"short-rectangle":e.appearance.button==="rectangle"&&e.testAnswers.length>5},null,8,["modelValue","value","label","color-code","appearance","short-rectangle"])]),_:1},8,["data-list","appearance"])]),f(z,{class:"test-card__button",disabled:!r.value,type:"submit"},{default:v(()=>c[1]||(c[1]=[k(" ДАЛЕЕ ")])),_:1},8,["disabled"])],32)],2))}},ue=m(ce,[["__scopeId","data-v-a655f66b"]]),ie={class:"spinner"},de={__name:"AppSpinner",props:{duration:{type:Number,default:1}},setup(e){x(o=>({d4c4b83e:a.value}));const l=e,t=h(null),a=C(()=>`${l.duration}s`);function r(o,p){var _;const s=(_=p.value)==null?void 0:_.querySelectorAll("path");if(!s)return;const c=s.length,d=o/c;s.forEach((b,y)=>{b.style.animationDelay=`${d*y}s`})}return I(()=>{t.value&&r(l.duration,t)}),(o,p)=>(n(),i("div",ie,[(n(),i("svg",{ref_key:"svgRef",ref:t,class:"spinner__svg",viewBox:"0 0 65 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p[0]||(p[0]=[D('<path d="M29.992 14.9627C34.127 14.9627 37.4791 11.6132 37.4791 7.48135C37.4791 3.34951 34.127 0 29.992 0C25.857 0 22.5049 3.34951 22.5049 7.48135C22.5049 11.6132 25.857 14.9627 29.992 14.9627Z" fill="currentColor" data-v-2b84f1aa></path><path d="M44.657 18.2974C48.4177 18.2974 51.4664 15.2511 51.4664 11.4933C51.4664 7.73551 48.4177 4.68921 44.657 4.68921C40.8963 4.68921 37.8477 7.73551 37.8477 11.4933C37.8477 15.2511 40.8963 18.2974 44.657 18.2974Z" fill="currentColor" data-v-2b84f1aa></path><path d="M55.2326 28.5432C58.6168 28.5432 61.3603 25.8019 61.3603 22.4203C61.3603 19.0387 58.6168 16.2974 55.2326 16.2974C51.8484 16.2974 49.105 19.0387 49.105 22.4203C49.105 25.8019 51.8484 28.5432 55.2326 28.5432Z" fill="currentColor" data-v-2b84f1aa></path><path d="M64.1271 38.084C64.609 35.1174 62.593 32.3222 59.6241 31.8407C56.6553 31.3591 53.8579 33.3736 53.376 36.3402C52.8941 39.3067 54.9101 42.1019 57.879 42.5834C60.8478 43.065 63.6452 41.0505 64.1271 38.084Z" fill="currentColor" data-v-2b84f1aa></path><path d="M54.2373 56.4805C56.8685 56.4805 59.0015 54.3491 59.0015 51.72C59.0015 49.0908 56.8685 46.9595 54.2373 46.9595C51.6061 46.9595 49.4731 49.0908 49.4731 51.72C49.4731 54.3491 51.6061 56.4805 54.2373 56.4805Z" fill="currentColor" data-v-2b84f1aa></path><path d="M42.9487 65.9935C45.2056 65.9935 47.0351 64.1654 47.0351 61.9103C47.0351 59.6552 45.2056 57.827 42.9487 57.827C40.6919 57.827 38.8623 59.6552 38.8623 61.9103C38.8623 64.1654 40.6919 65.9935 42.9487 65.9935Z" fill="currentColor" data-v-2b84f1aa></path><path d="M28.0419 68.3223C29.9222 68.3223 31.4466 66.7992 31.4466 64.9202C31.4466 63.0413 29.9222 61.5182 28.0419 61.5182C26.1615 61.5182 24.6372 63.0413 24.6372 64.9202C24.6372 66.7992 26.1615 68.3223 28.0419 68.3223Z" fill="currentColor" data-v-2b84f1aa></path><path d="M13.6785 62.643C15.1824 62.643 16.4015 61.4248 16.4015 59.9221C16.4015 58.4195 15.1824 57.2013 13.6785 57.2013C12.1747 57.2013 10.9556 58.4195 10.9556 59.9221C10.9556 61.4248 12.1747 62.643 13.6785 62.643Z" fill="currentColor" data-v-2b84f1aa></path><path d="M3.86886 50.3457C4.99619 50.3457 5.91008 49.4325 5.91008 48.306C5.91008 47.1795 4.99619 46.2664 3.86886 46.2664C2.74152 46.2664 1.82764 47.1795 1.82764 48.306C1.82764 49.4325 2.74152 50.3457 3.86886 50.3457Z" fill="currentColor" data-v-2b84f1aa></path><path d="M1.36346 34.678C2.11647 34.678 2.72692 34.068 2.72692 33.3156C2.72692 32.5632 2.11647 31.9532 1.36346 31.9532C0.610439 31.9532 0 32.5632 0 33.3156C0 34.068 0.610439 34.678 1.36346 34.678Z" fill="currentColor" data-v-2b84f1aa></path><path d="M6.85323 19.8222C6.71807 19.8238 6.5855 19.7852 6.47235 19.7113C6.3592 19.6374 6.27059 19.5315 6.21777 19.4072C6.16496 19.2829 6.15032 19.1457 6.17572 19.013C6.20112 18.8804 6.26542 18.7582 6.36044 18.6622C6.45546 18.5661 6.57691 18.5005 6.70936 18.4735C6.84182 18.4466 6.97929 18.4596 7.10433 18.5109C7.22936 18.5622 7.3363 18.6495 7.41157 18.7617C7.48683 18.8739 7.52703 19.0059 7.52704 19.141C7.52705 19.3203 7.45631 19.4924 7.33017 19.6199C7.20403 19.7474 7.03266 19.8201 6.85323 19.8222Z" fill="currentColor" data-v-2b84f1aa></path>',11)]),512))]))}},pe=m(de,[["__scopeId","data-v-2b84f1aa"]]),_e={class:"preloader"},fe={class:"preloader__inner"},me={__name:"AppPreloader",props:{titleTag:{type:String,default:"h2"},title:{type:String,required:!0},text:{type:String,required:!0}},setup(e){const l=e,t=h(null);function a(r,o){const p=o.split(" "),s=[];p.forEach(d=>{if(!d.length)return;const _=document.createElement("span");_.className="word",_.textContent=d,s.push(_)}),s.at(-1).classList.add("word--last");const c=()=>{const d=document.createElement("span");return d.className="dot",d};r.append(...s,c())}return I(()=>{a(t.value,l.text)}),(r,o)=>(n(),i("div",_e,[u("div",fe,[(n(),q(L(e.titleTag),{class:"preloader__title"},{default:v(()=>[k($(e.title),1)]),_:1})),u("div",null,[f(pe)]),u("p",{ref_key:"descrRef",ref:t,class:"preloader__descr"},null,512),o[0]||(o[0]=u("div",{class:"preloader__underline"},null,-1))])]))}},ve=m(me,[["__scopeId","data-v-772cc6ab"]]),Ce={class:"page"},ge={class:"page__progress-bar"},he={class:"page__main"},be={key:0,class:"page__section"},ye={__name:"TestPage",setup(e){const l=E(),t=j(),a=C(()=>l.testData),r=h(!1),o=h(!0);async function p({page:s,answerId:c,testId:d}){s<a.value.totalPages-1?await l.fetchSendTest({page:s,answerId:c,testId:d}):s===a.value.totalPages-1&&(r.value=!0,o.value=!1,await l.fetchGetAnswer({page:s,answerId:c,testId:d}),t.replace({name:"result"}),r.value=!1)}return(s,c)=>(n(),i("div",Ce,[f(F,{class:"page__container"},{default:v(()=>[u("div",ge,[f(G,{step:a.value.page+1,"step-amount":a.value.totalPages},null,8,["step","step-amount"])]),u("main",he,[f(A,{mode:"out-in",duration:"0.1s"},{default:v(()=>[r.value?(n(),q(ve,{key:1,title:"обработка результатов",text:"Определение стиля мышления"})):(n(),i("section",be,[f(A,{mode:"out-in",duration:"0.1s"},{default:v(()=>[o.value?(n(),q(ue,{key:a.value.page,"test-answers":a.value.answers,picture:a.value.picture,question:a.value.question,"test-id":a.value.testId,appearance:a.value.appearance,page:a.value.page,"total-pages":a.value.totalPages,onSubmit:p},null,8,["test-answers","picture","question","test-id","appearance","page","total-pages"])):g("",!0)]),_:1})]))]),_:1})])]),_:1})]))}},$e=m(ye,[["__scopeId","data-v-825e673b"]]);export{$e as default};
